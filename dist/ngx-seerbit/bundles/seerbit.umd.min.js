!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("seerbit",["exports","@angular/core","@angular/common"],e):e((t=t||self).seerbit={},t.ng.core,t.ng.common)}(this,(function(t,e,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function r(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(c,a)}s((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var a=function(){function t(){}return t.prototype.loadScript=function(){return new Promise((function(t){if(window.SeerBitPop&&"function"==typeof window.SeerBitPop.setup)t();else{var e=window.document.createElement("script");window.document.head.appendChild(e);var n=function(){e.removeEventListener("load",n),t()};e.addEventListener("load",n),e.setAttribute("src","/assets/js/seerbit.js"),setTimeout((function(){SeerbitPay}),3e3)}}))},t.prototype.getSeerBitOptions=function(t){return{amount:t.amount,tranref:t.tranref,public_key:t.public_key,currency:t.currency||"NGN",callbackurl:t.callbackurl||"",country:t.country,description:t.description}},t.prototype.checkInput=function(t){return t.public_key?t.amount?t.tranref?"":"Seerbit: Transaction ref cannot be empty":"Seerbit: Transaction amount cannot be empty":"Seerbit: Please insert a your public key"},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var s=function(){function t(t){this.seerBitService=t,this.callback=new e.EventEmitter,this.close=new e.EventEmitter}return t.prototype.pay=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=this.validateInput(this.options),this.generateOptions(this.options),t?(console.error(t),[2,t]):[4,this.seerBitService.loadScript()];case 1:return e.sent(),window.SeerbitPay(this._options,this.closeFn,this.callbackFn),[2]}}))}))},t.prototype.generateOptions=function(t){var e=this;this._options=this.seerBitService.getSeerBitOptions(t),this.closeFn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.close.observers.length||(t=e.close).emit.apply(t,c(n))},this.callbackFn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=e.callback).emit.apply(t,c(n))}},t.prototype.validateInput=function(t){return this.callback.observers.length?this.seerBitService.checkInput(t):"Seerbit: Insert a callback output like so (callback)='PaymentComplete($event)' to check payment status"},t.prototype.buttonClick=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pay(),[2]}))}))},t.decorators=[{type:e.Directive,args:[{selector:"[seer-bit]"}]}],t.ctorParameters=function(){return[{type:a}]},t.propDecorators={options:[{type:e.Input}],callback:[{type:e.Output}],close:[{type:e.Output}],buttonClick:[{type:e.HostListener,args:["click"]}]},t}();var u=function(){function t(t){this.seerBitService=t,this.callback=new e.EventEmitter,this.close=new e.EventEmitter}return t.prototype.generateOptions=function(t){var e=this;this._options=this.seerBitService.getSeerBitOptions(t),this.closeFn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.close.observers.length||(t=e.close).emit.apply(t,c(n))},this.callbackFn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=e.callback).emit.apply(t,c(n))}},t.prototype.validateInput=function(t){return this.callback.observers.length?this.seerBitService.checkInput(t):"Seerbit: Insert a callback output like so (callback)='PaymentComplete($event)' to check payment status"},t.prototype.buttonClick=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pay(),[2]}))}))},t.prototype.pay=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=this.validateInput(this.options),this.generateOptions(this.options),t?(console.error(t),[2,t]):[4,this.seerBitService.loadScript()];case 1:return e.sent(),window.SeerbitPay(this._options,this.closeFn,this.callbackFn),[2]}}))}))},t.decorators=[{type:e.Component,args:[{selector:"seer-bit",template:'<button [ngClass]="class" [ngStyle]="style"><ng-content></ng-content></button>'}]}],t.ctorParameters=function(){return[{type:a}]},t.propDecorators={class:[{type:e.Input}],style:[{type:e.Input}],options:[{type:e.Input}],callback:[{type:e.Output}],close:[{type:e.Output}],buttonClick:[{type:e.HostListener,args:["click"]}]},t}();var l=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[s,u],imports:[n.CommonModule],exports:[s,u]}]}],t}();t.NgxSeerbitModule=l,t.ɵa=s,t.ɵb=a,t.ɵc=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=seerbit.umd.min.js.map